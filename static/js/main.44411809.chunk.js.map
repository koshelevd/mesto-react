{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/api.js","images/icon-success.svg","images/icon-fail.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","React","memo","props","className","to","src","logo","alt","loggedIn","email","onClick","onLogout","path","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","hasAnyLikes","length","cardLikesCounterClassName","link","name","onCardClick","type","aria-label","onCardDelete","onCardLike","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","title","isOpen","onClose","isDisabled","onSubmit","buttonText","children","useEffect","handleEscapeClose","event","key","document","addEventListener","removeEventListener","onMouseDown","e","target","currentTarget","noValidate","value","disabled","validationParams","EditProfilePopup","useState","content","isValid","validationMessage","setName","description","setDescription","nameInputClassName","nameErrorClassName","descriptionInputClassName","descriptionErrorClassName","isLoading","preventDefault","onUpdateUser","placeholder","minLength","maxLength","required","onChange","validity","valid","id","EditAvatarPopup","avatarRef","useRef","inputValidity","setInputValidity","inputClassName","errorClassName","current","onUpdateAvatar","ref","AddPlacePopup","setTitle","setLink","titleInputClassName","titleErrorClassName","linkInputClassName","linkErrorClassName","ImagePopup","undefined","Register","password","inputValues","setInputValues","handleInputChange","prevState","method","autoComplete","Login","ProtectedRoute","Component","component","api","options","getContent","token","fetch","usersMeUrl","headers","authHeaders","Authorization","then","_processResponse","this","profileUrl","baseUrl","avatarUrl","cardsUrl","likesUrl","authorization","signUpUrl","baseAuthUrl","signInUrl","Accept","response","ok","json","Promise","reject","Error","status","data","body","JSON","stringify","cardId","Infotooltip","isOk","successIcon","failIcon","App","history","useHistory","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteConfirmPopupOpen","setIsDeleteConfirmPopupOpen","infoTooltipStatus","setInfoTooltipStatus","setCards","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setIsLoading","setLoggedIn","setEmail","checkToken","localStorage","getItem","result","catch","err","console","log","closeAllPopups","getProfileInfo","getInitialCards","push","Provider","removeItem","exact","like","newCard","state","c","signup","signin","setItem","editProfileInfo","finally","addCard","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44411809.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.bbe2a6ea.svg\";","import logo from \"../images/header-logo.svg\";\r\nimport React from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nconst Header = React.memo((props) => {\r\n  return (\r\n    <header className=\"header section page__header\">\r\n      <Link to=\"/\" className=\"header__link\">\r\n        <img src={logo} alt=\"Россия\" className=\"header__logo smoothly\" />\r\n      </Link>\r\n      <nav className=\"top-menu\">\r\n        <ul className=\"top-menu__list\">\r\n          {props.loggedIn && (\r\n            <>\r\n              <li className=\"top-menu__item\">\r\n                {props.email}\r\n              </li>\r\n              <li className=\"top-menu__item\">\r\n                <button\r\n                  onClick={() => props.onLogout()}\r\n                  className=\"top-menu__button link smoothly\"\r\n                >\r\n                  Выйти\r\n                </button>\r\n              </li>\r\n            </>\r\n          )}\r\n\r\n          <Route path=\"/sign-up\">\r\n            <li className=\"top-menu__item\">\r\n              <Link to=\"/sign-in\" className=\"link smoothly\">\r\n                Войти\r\n              </Link>\r\n            </li>\r\n          </Route>\r\n          <Route path=\"/sign-in\">\r\n            <li className=\"top-menu__item\">\r\n              <Link to=\"/sign-up\" className=\"link smoothly\">\r\n                Регистрация\r\n              </Link>\r\n            </li>\r\n          </Route>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n});\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nconst Card = React.memo((props) => {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `button button_type_delete card__delete ${isOwn && 'card__delete_active'}`\r\n  );\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `button button_type_like card__like-button ${isLiked && 'button_type_like-active'}`\r\n  );\r\n  const hasAnyLikes = props.card.likes.length > 0;\r\n  const cardLikesCounterClassName = (\r\n    `card__like-counter ${hasAnyLikes && 'card__like-counter_active'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  } \r\n\r\n  return (\r\n    <figure className=\"card\">\r\n      <img src={props.card.link} alt={`Фото_${props.card.name}`} className=\"card__image\" onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={handleDeleteClick}></button>\r\n      <figcaption className=\"card__caption\">\r\n        <h2 className=\"card__header\">{props.card.name}</h2>\r\n        <div className=\"card__like\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Нравится\" onClick={handleLikeClick}></button>\r\n          <span className={cardLikesCounterClassName}>{props.card.likes.length}</span>\r\n        </div>\r\n      </figcaption>\r\n    </figure>\r\n  )\r\n});\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content page__content\">\r\n      <section className=\"profile section\">\r\n        <figure className=\"user-info\">\r\n          <div\r\n            className=\"user-info__avatar\"\r\n            onClick={props.onEditAvatar}\r\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n          ></div>\r\n          <figcaption className=\"user-info__caption\">\r\n            <div className=\"user-info__header\">\r\n              <h1 className=\"user-info__name\">{currentUser.name}</h1>\r\n              <button\r\n                className=\"button button_type_edit user-info__button\"\r\n                type=\"button\"\r\n                aria-label=\"Редактировать профиль\"\r\n                onClick={props.onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"user-info__description\">{currentUser.about}</p>\r\n          </figcaption>\r\n        </figure>\r\n        <button\r\n          className=\"button button_type_add profile__button smoothly\"\r\n          type=\"button\"\r\n          aria-label=\"Добавить фото\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section\r\n        className=\"cards section\"\r\n        aria-label=\"Фотогалерея\"\r\n      >\r\n        {props.cards.map((card, i) => (\r\n          <Card\r\n            card={card}\r\n            key={card._id}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nconst Footer = React.memo((props) => {\r\n  return (\r\n    <footer className=\"footer section page__footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy;&nbsp;2021 Mesto Russia\r\n      </p>\r\n    </footer>\r\n  )\r\n});\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nconst PopupWithForm = React.memo((props) => {\r\n  const {\r\n    title,\r\n    name,\r\n    isOpen,\r\n    onClose,\r\n    isDisabled,\r\n    onSubmit,\r\n    buttonText,\r\n    children,\r\n  } = props;\r\n  React.useEffect(() => {\r\n    if (!isOpen) return;\r\n    const handleEscapeClose = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscapeClose);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  const handleOverlayClose = (event) => {\r\n    if (event.target === event.currentTarget && isOpen) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}\r\n      aria-label={title}\r\n      onMouseDown={(e) => handleOverlayClose(e, onClose)}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          className=\"form\"\r\n          name={`${name}-profile-form`}\r\n          noValidate\r\n          onSubmit={onSubmit}\r\n        >\r\n          {children}\r\n          <input\r\n            type=\"submit\"\r\n            className=\"form__input form__input_type_submit smoothly\"\r\n            name=\"submit-button\"\r\n            value={buttonText}\r\n            disabled={isDisabled}\r\n          />\r\n        </form>\r\n        <button\r\n          className=\"button button_type_close popup__close-button smoothly\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default PopupWithForm;\r\n","export const apiOptions = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n  token: '208d1c83-83f5-4b83-877f-76efb517fd6e',\r\n  baseAuthUrl: 'https://auth.nomoreparties.co',\r\n};\r\nexport const validationParams = {\r\n  activeErrorSelector: 'form__validation-error_active',\r\n  inputErrorSelector: 'form__input_type_error',\r\n};\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { validationParams } from \"../utils/constants\";\r\n\r\nconst EditProfilePopup = React.memo((props) => {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState({\r\n    content: \"\",\r\n    isValid: false,\r\n    validationMessage: \"\",\r\n  });\r\n  const [description, setDescription] = React.useState({\r\n    content: \"\",\r\n    isValid: false,\r\n    validationMessage: \"\",\r\n  });\r\n  const nameInputClassName = `form__input form__input_type_text ${\r\n    !name.isValid &&\r\n    name.validationMessage !== \"\" &&\r\n    validationParams.inputErrorSelector\r\n  }`;\r\n  const nameErrorClassName = `form__validation-error ${\r\n    !name.isValid &&\r\n    name.validationMessage !== \"\" &&\r\n    validationParams.activeErrorSelector\r\n  }`;\r\n  const descriptionInputClassName = `form__input form__input_type_text ${\r\n    !description.isValid &&\r\n    description.validationMessage !== \"\" &&\r\n    validationParams.inputErrorSelector\r\n  }`;\r\n  const descriptionErrorClassName = `form__validation-error ${\r\n    !description.isValid &&\r\n    description.validationMessage !== \"\" &&\r\n    validationParams.activeErrorSelector\r\n  }`;\r\n  const buttonText = props.isLoading ? \"Сохранение...\" : \"Сохранить\";\r\n\r\n  React.useEffect(() => {\r\n    setName({\r\n      content: currentUser.name,\r\n      isValid: true,\r\n      validationMessage: \"\",\r\n    });\r\n    setDescription({\r\n      content: currentUser.about,\r\n      isValid: true,\r\n      validationMessage: \"\",\r\n    });\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleNameChange(e) {\r\n    setName({\r\n      content: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription({\r\n      content: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name.content,\r\n      about: description.content,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      isDisabled={!(name.isValid && description.isValid) || props.isLoading}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className={nameInputClassName}\r\n        placeholder=\"Имя Фамилия\"\r\n        name=\"input-name\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        value={name.content}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className={nameErrorClassName} id=\"input-name-error\">\r\n        {name.validationMessage}\r\n      </span>\r\n      <input\r\n        type=\"text\"\r\n        className={descriptionInputClassName}\r\n        placeholder=\"О себе\"\r\n        name=\"input-description\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        value={description.content}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className={descriptionErrorClassName} id=\"input-description-error\">\r\n        {description.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n});\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { validationParams } from \"../utils/constants\";\r\n\r\nconst EditAvatarPopup = React.memo((props) => {\r\n  const avatarRef = React.useRef();\r\n  const [inputValidity, setInputValidity] = React.useState({\r\n    isValid: false,\r\n    validationMessage: \"\",\r\n  });\r\n  const inputClassName = `form__input form__input_type_text \r\n     ${\r\n       !inputValidity.isValid &&\r\n       inputValidity.validationMessage !== \"\" &&\r\n       validationParams.inputErrorSelector\r\n     }`;\r\n  const errorClassName = `form__validation-error \r\n     ${\r\n       !inputValidity.isValid &&\r\n       inputValidity.validationMessage !== \"\" &&\r\n       validationParams.activeErrorSelector\r\n     }`;\r\n  const buttonText = props.isLoading ? \"Сохранение...\" : \"Сохранить\";\r\n\r\n  React.useEffect(() => {\r\n    setInputValidity({\r\n      isValid: false,\r\n      validationMessage: \"\",\r\n    });\r\n    avatarRef.current.value = \"\";\r\n  }, [props.isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setInputValidity({\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      isDisabled={!inputValidity.isValid || props.isLoading}\r\n    >\r\n      <input\r\n        type=\"url\"\r\n        ref={avatarRef}\r\n        className={inputClassName}\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"input-picture-link\"\r\n        required\r\n        onChange={handleChange}\r\n      />\r\n      <span className={errorClassName} id=\"input-picture-link-error\">\r\n        {inputValidity.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n});\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { validationParams } from \"../utils/constants\";\r\n\r\nconst AddPlacePopup = React.memo((props) => {\r\n  const [title, setTitle] = React.useState({\r\n    content: \"\",\r\n    isValid: false,\r\n    validationMessage: \"\",\r\n  });\r\n  const [link, setLink] = React.useState({\r\n    content: \"\",\r\n    isValid: false,\r\n    validationMessage: \"\",\r\n  });\r\n  const titleInputClassName = `form__input form__input_type_text ${\r\n    !title.isValid &&\r\n    title.validationMessage !== \"\" &&\r\n    validationParams.inputErrorSelector\r\n  }`;\r\n  const titleErrorClassName = `form__validation-error ${\r\n    !title.isValid &&\r\n    title.validationMessage !== \"\" &&\r\n    validationParams.activeErrorSelector\r\n  }`;\r\n  const linkInputClassName = `form__input form__input_type_text ${\r\n    !link.isValid &&\r\n    link.validationMessage !== \"\" &&\r\n    validationParams.inputErrorSelector\r\n  }`;\r\n  const linkErrorClassName = `form__validation-error ${\r\n    !link.isValid &&\r\n    link.validationMessage !== \"\" &&\r\n    validationParams.activeErrorSelector\r\n  }`;\r\n  const buttonText = props.isLoading ? \"Сохранение...\" : \"Создать\";\r\n\r\n  React.useEffect(() => {\r\n    setTitle({\r\n      content: \"\",\r\n      isValid: false,\r\n      validationMessage: \"\",\r\n    });\r\n    setLink({\r\n      content: \"\",\r\n      isValid: false,\r\n      validationMessage: \"\",\r\n    });\r\n  }, [props.isOpen]);\r\n\r\n  function handleTitleChange(e) {\r\n    setTitle({\r\n      content: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink({\r\n      content: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: title.content,\r\n      link: link.content,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      isDisabled={!(title.isValid && link.isValid) || props.isLoading}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className={titleInputClassName}\r\n        placeholder=\"Название\"\r\n        name=\"input-title\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        value={title.content}\r\n        onChange={handleTitleChange}\r\n      />\r\n      <span className={titleErrorClassName} id=\"input-title-error\">\r\n        {title.validationMessage}\r\n      </span>\r\n      <input\r\n        type=\"url\"\r\n        className={linkInputClassName}\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"input-link\"\r\n        required\r\n        value={link.content}\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span className={linkErrorClassName} id=\"input-link-error\">\r\n        {link.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n});\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nconst ImagePopup = React.memo((props) => {\r\n  const {card, onClose} = props;\r\n\r\n  React.useEffect(() => {\r\n    if (card === undefined) return;\r\n    const handleEscapeClose = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscapeClose);\r\n    };\r\n  }, [card, onClose]);\r\n\r\n  const handleOverlayClose = (event) => {\r\n    if (event.target === event.currentTarget && card !== undefined) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_type_image ${\r\n        props.card !== undefined && \"popup_opened\"\r\n      }`}\r\n      aria-label=\"Всплывающее изображение\"\r\n      onMouseDown={(e) => handleOverlayClose(e, props.onClose)}\r\n    >\r\n      {props.card !== undefined && (\r\n        <div className=\"popup__container popup__container_type_blank\">\r\n          <figure className=\"popup__figure\">\r\n            <img\r\n              src={props.card.link}\r\n              alt={`Фото_${props.card.name}`}\r\n              className=\"popup__image\"\r\n            />\r\n            <figcaption className=\"popup__caption\">\r\n              {props.card.name}\r\n            </figcaption>\r\n          </figure>\r\n          <button\r\n            className=\"button button_type_close popup__close-button smoothly\"\r\n            type=\"button\"\r\n            aria-label=\"Закрыть окно\"\r\n            onClick={props.onClose}\r\n          ></button>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const [inputValues, setInputValues] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleInputChange(e) {\r\n    setInputValues((prevState) => {\r\n      return { ...prevState, [e.target.name]: e.target.value };\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit(inputValues);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <main className=\"content page__content\">\r\n        <form\r\n          className=\"form form_auth\"\r\n          method=\"post\"\r\n          autoComplete=\"off\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h1 className=\"form__auth-header\">Регистрация</h1>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form__input form__input_type_text form__input_theme_dark\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            autoComplete=\"off\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={inputValues[\"email\"]}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            className=\"form__input form__input_type_text form__input_theme_dark\"\r\n            placeholder=\"Пароль\"\r\n            name=\"password\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={inputValues[\"password\"]}\r\n          />\r\n          <div className=\"form__auth-submit-group\">\r\n            <input\r\n              type=\"submit\"\r\n              className=\"form__input form__input_type_auth-submit smoothly\"\r\n              name=\"submit-button\"\r\n              value=\"Зарегистрироваться\"\r\n            />\r\n            <p className=\"form__auth-tips\">\r\n              Уже зарегистрированы?{\" \"}\r\n              <Link to=\"/sign-in\" className=\"link smoothly\">\r\n                Войти\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\n\r\nfunction Login(props) {\r\n  const [inputValues, setInputValues] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleInputChange(e) {\r\n    setInputValues((prevState) => {\r\n      return { ...prevState, [e.target.name]: e.target.value };\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit(inputValues);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <main className=\"content page__content\">\r\n        <form\r\n          className=\"form form_auth\"\r\n          method=\"post\"\r\n          autoComplete=\"off\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h1 className=\"form__auth-header\">Вход</h1>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form__input form__input_type_text form__input_theme_dark\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            autoComplete=\"off\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={inputValues[\"email\"]}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            className=\"form__input form__input_type_text form__input_theme_dark\"\r\n            placeholder=\"Пароль\"\r\n            name=\"password\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={inputValues[\"password\"]}\r\n          />\r\n          <div className=\"form__auth-submit-group\">\r\n            <input\r\n              type=\"submit\"\r\n              className=\"form__input form__input_type_auth-submit smoothly\"\r\n              name=\"submit-button\"\r\n              value=\"Войти\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable class-methods-use-this */\r\n/* eslint-disable arrow-parens */\r\nimport { apiOptions } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    // Initialize object.\r\n    this.profileUrl = `${options.baseUrl}/users/me`;\r\n    this.avatarUrl = `${this.profileUrl}/avatar`;\r\n    this.cardsUrl = `${options.baseUrl}/cards`;\r\n    this.likesUrl = `${this.cardsUrl}/likes`;\r\n    this.headers = {\r\n      authorization: options.token,\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    };\r\n    this.signUpUrl = `${options.baseAuthUrl}/signup`;\r\n    this.signInUrl = `${options.baseAuthUrl}/signin`;\r\n    this.usersMeUrl = `${options.baseAuthUrl}/users/me`;\r\n    this.authHeaders = {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n  }\r\n\r\n  _processResponse(response) {\r\n    // Return JSON response if status is ok or generate error.\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${response.status}`));\r\n  }\r\n\r\n  getInitialCards() {\r\n    // Get all cards data.\r\n    return fetch(this.cardsUrl, {\r\n      headers: this.headers,\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  getProfileInfo() {\r\n    // Get profile info.\r\n    return fetch(this.profileUrl, {\r\n      headers: this.headers,\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  editProfileInfo(data) {\r\n    // Patch user's name and description.\r\n    return fetch(this.profileUrl, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  editAvatar(data) {\r\n    // Patch user's avatar.\r\n    return fetch(this.avatarUrl, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  addCard(data) {\r\n    // Post new card.\r\n    return fetch(this.cardsUrl, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    // Delete the card.\r\n    return fetch(`${this.cardsUrl}/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  like(cardId, isLiked) {\r\n    // Like the card (or dislike if already liked).\r\n    return fetch(`${this.likesUrl}/${cardId}`, {\r\n      method: isLiked ? \"DELETE\" : \"PUT\",\r\n      headers: this.headers,\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  signup(data) {\r\n    // Register user.\r\n    return fetch(`${this.signUpUrl}`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  signin(data) {\r\n    // Log in user.\r\n    return fetch(`${this.signInUrl}`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._processResponse);\r\n  }\r\n\r\n  getContent = (token) => {\r\n    return fetch(`${this.usersMeUrl}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this.authHeaders,\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._processResponse);\r\n  };\r\n}\r\n\r\nconst api = new Api(apiOptions);\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/icon-success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/icon-fail.d0f413bf.svg\";","import React from \"react\";\r\nimport successIcon from \"../images/icon-success.svg\";\r\nimport failIcon from \"../images/icon-fail.svg\";\r\n\r\nconst Infotooltip = React.memo((props) => {\r\n  const { status, onClose } = props;\r\n  const isOpen = status.isOpen;\r\n  const isOk = status.isOk;\r\n\r\n  React.useEffect(() => {\r\n    if (!isOpen) return;\r\n    const handleEscapeClose = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscapeClose);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  const handleOverlayClose = (event) => {\r\n    if (event.target === event.currentTarget && isOpen) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className={`popup ${isOpen && \"popup_opened\"}`}\r\n      aria-label=\"Информация\"\r\n      onMouseDown={(e) => handleOverlayClose(e, onClose)}\r\n    >\r\n      <div className=\"popup__container popup__container_type_auth\">\r\n        <img\r\n          src={isOk ? successIcon : failIcon}\r\n          className=\"popup__icon\"\r\n          alt={isOk ? \"Успешная регистрация!\" : \"Ошибка при регистрации\"}\r\n        />\r\n        <h2 className=\"popup__message\">\r\n          {isOk\r\n            ? \"Вы успешно зарегистрировались!\"\r\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n        </h2>\r\n        <button\r\n          className=\"button button_type_close popup__close-button popup__close-button_auth smoothly\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Infotooltip;\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport api from \"../utils/api\";\r\nimport Infotooltip from \"./InfoTooltip\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [currentUser, setCurrentUser] = React.useState({ name: \"\", about: \"\" });\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isDeleteConfirmPopupOpen, setIsDeleteConfirmPopupOpen] =\r\n    React.useState(false);\r\n  const [infoTooltipStatus, setInfoTooltipStatus] = React.useState({\r\n    isOpen: false,\r\n    isOk: false,\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\r\n  const [cardToDelete, setCardToDelete] = React.useState(undefined);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [loggedIn, setLoggedIn] = React.useState(true);\r\n  const [email, setEmail] = React.useState(undefined);\r\n\r\n  React.useEffect(() => {\r\n    getInitialData();\r\n    checkToken();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [loggedIn, history]);\r\n\r\n  function checkToken() {\r\n    if (localStorage.getItem(\"token\")) {\r\n      const token = localStorage.getItem(\"token\");\r\n      api\r\n        .getContent(token)\r\n        .then((result) => {\r\n          if (result) {\r\n            setLoggedIn(true);\r\n            setEmail(result.data.email);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  function getInitialData() {\r\n    api\r\n      .getProfileInfo()\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    api\r\n      .getInitialCards()\r\n      .then((result) => {\r\n        setCards(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .like(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDeleteClick(card) {\r\n    setIsDeleteConfirmPopupOpen(!isDeleteConfirmPopupOpen);\r\n    setCardToDelete(card);\r\n  }\r\n\r\n  function handleCardDelete(e) {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(cardToDelete._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== cardToDelete._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeleteConfirmPopupOpen(false);\r\n    setInfoTooltipStatus({\r\n      isOpen: false,\r\n      isOk: false,\r\n    });\r\n    setSelectedCard(undefined);\r\n    setCardToDelete(undefined);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsLoading(true);\r\n    api\r\n      .editProfileInfo(data)\r\n      .then((result) => {\r\n        closeAllPopups();\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    setIsLoading(true);\r\n    api\r\n      .editAvatar(data)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    setIsLoading(true);\r\n    api\r\n      .addCard(data)\r\n      .then((result) => {\r\n        setCards([result, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function onRegister(data) {\r\n    api\r\n      .signup(data)\r\n      .then((result) => {\r\n        history.push(\"/sign-in\");\r\n        setInfoTooltipStatus({\r\n          isOpen: true,\r\n          isOk: true,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipStatus({\r\n          isOpen: true,\r\n          isOk: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  function onLogin(data) {\r\n    api\r\n      .signin(data)\r\n      .then((result) => {\r\n        if (result.token) {\r\n          localStorage.setItem(\"token\", result.token);\r\n          checkToken();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipStatus({\r\n          isOpen: true,\r\n          isOk: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  const onSignOut = () => {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem(\"token\");\r\n    history.push(\"/sign-in\");\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page__container\">\r\n        <Header loggedIn={loggedIn} onLogout={onSignOut} email={email} />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            cards={cards}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDeleteClick}\r\n          />\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Register onSubmit={onRegister} />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onSubmit={onLogin} />\r\n          </Route>\r\n\r\n          <Route exact path=\"*\">\r\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Route path=\"/sign-up\">\r\n          <Infotooltip status={infoTooltipStatus} onClose={closeAllPopups} />\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Infotooltip status={infoTooltipStatus} onClose={closeAllPopups} />\r\n        </Route>\r\n        <Route exact path=\"/\">\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            isLoading={isLoading}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            isLoading={isLoading}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            isLoading={isLoading}\r\n          />\r\n          <PopupWithForm\r\n            title=\"Вы уверены?\"\r\n            name=\"confirm\"\r\n            isOpen={isDeleteConfirmPopupOpen}\r\n            onClose={closeAllPopups}\r\n            buttonText={!isLoading ? \"Да\" : \"Удаление...\"}\r\n            isDisabled={isLoading}\r\n            onSubmit={handleCardDelete}\r\n          />\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        </Route>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}